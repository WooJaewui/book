
 직렬화.



 # 자바 직렬화의 대안을 찾으라.

직렬화의 문제점.
- 공격 범위가 너무 넓고 지속적으로 더 넓어져 방어하기 어렵다.

가젯 gadget.
- 라이브러리에서 직렬화 가능 타입들을 연구하여 역직렬화 과정에서 호출되어 잠재적으로 위험한 동작을 수정하는 메서드.

직렬화의 위험을 피하는 방법.
- 아무것도 역직렬화하지 않는 것. ( 사용하지 않아도 된다 )
	- 객체와 바이트 시퀀스를 변환해주는 다른 메커니즘이 많다.
	- 자바 직렬화의 여러 위험을 회피하면서 다양한 플랫폼 지원, 우수한 성능 등의 이점을 제공한다.

역직렬화 필터링.
- 자바 9에 추가됨.
- 데이터 스트림이 역직렬화되기 전에 필터를 설치하는 기능이다.
- 화이트리스트, 블랙리스트 방식이 있다.
	- 블랙리스트 : 기록된 잠재적으로 위험한 클래스들을 거부한다.
	- 화이트리스트 : 기록된 안전하다고 알려진 클래스들만 수용한다. ( 이펙티브 자바 추천 )

정리.
- 직렬화는 위험하니 피해야 한다.
- 시스템을 밑바닥부터 설계한다면 JSON이나 프로토콜 버퍼 같은 대안을 사용하자.
- 신뢰할 수 없는 데이터는 역직렬화하지 말자.
- 꼭 사용해야 한다면 역직렬화 필터링을 사용하자.



 # Serializable을 구현할지는 신중히 결정하라.






























