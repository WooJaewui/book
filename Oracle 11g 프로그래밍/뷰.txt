

 뷰 - 290page.



 # 뷰.

용어 설명.
뷰 view : 하나 이상의 테이블이나 다른 뷰를 이용하여 생성되는 가상 테이블이다. 
기본 테이블 : 뷰를 정의하기 위해서 사용된 테이블. ( 실제 테이블 )

주의사항.
뷰에서 CUD를 통해 데이터를 조작하면 기본 테이블에 적용된다.



 # 뷰 생성.

종류.
단순 뷰 : 하나의 기본 테이블로 생성한 뷰.
복합 뷰 : 두 개 이상의 기본 테이블로 생성한 뷰이다. ( DISTINCT, 그룹함수, GROUP BY, ROWNUM x )

사용.
create view viewName as subquery ;
select * from viewName ;

주의사항.
컬럼을 따로 명시하지 않으면 subquery에 있는 데이터를 그대로 상속받는다.
두 개 이상의 테이블을 상속받을 때 같은 컬럼이 있으면 반드시 칼럼명을 명시해야된다.



 # 뷰의 필요성.

보안성. 
전체 데이터가 아닌 일부만 접근 할 수 있도록 뷰를 정의할 수 있다.

사용의 편의성.
사용자에게 필요한 정보만 선택적으로 제공할 수 있다. ( 복잡한 쿼리문을 단순하게 가능 )



 # 뷰의 처리 과정.

1. USER_VIEW 데이터 사전에서 뷰에 대한 정의를 조회.
2. 기본 테이블에 대한 뷰의 접근 권한 확인.
3. 뷰에 대한 질의를 기본 테이블에 대한 질의로 변환.
4. 기본 테이블에 대한 질의를 통해 데이터를 검색.
5. 검색된 결과를 출력.



 # 다양한 뷰.

함수를 통해 생성가능. ( 가상 칼럼에 저장 )
그룹 함수를 가상 칼럼으로 갖는 뷰는 DML 문을 사용할 수 없다. ( 데이터를 읽어 올 수 없음 )



 # 뷰 제거하기.

설명.
뷰는 가상 테이블이기 때문에 뷰를 제거해도 기본 테이블에 영향을 끼치지 않는다.

사용.
DROP VIEW viewName ;



 # 뷰의 옵션.

종류.
CREATE OR REPLACE : 뷰가 존재하지 않으면 생성하고, 존재하면 다시 만든다.
FORCE : 기본 테이블이 존재하지 않아도 뷰를 생성한다.
NOFORCE : 기본 테이블이 없으면 뷰를 생성할 수 없다. ( 기본값 )
WITH CHECK OPTION : 해당 뷰에서만 볼 수 있는 범위를 설정할 수 있다.
WITH READ ONLY : SELECT만 가능한 뷰를 만들 수 있다.

















