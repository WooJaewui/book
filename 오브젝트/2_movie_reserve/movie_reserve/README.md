# 오브젝트 2장 객체지향 프로그래밍

--------------------------------------------------------------

> ## 영화 예매 시스템

### 요구사항.
- ### 영화.
  - 영화에 대한 기본 정보.
  - 제목, 상영시간, 가격 정보와 같이 영화가 가지고 있는 기본적인 정보를 저장. 
- ### 상영.
    - 실제로 관객들이 영화를 관라하는 사건을 의미. (영화 예매 대상)
    - 상영 일자, 시간, 순번 등을 가르키기 위해 사용.
- ### 할인 조건 discount condition.
    - 순서 조건과 기간 조건 두 종류로 나눌 수 있다.
    - 순서 조건은 상영 순번을 이용해 할인 여부를 결정하는 규칙.
    - 기간 조건은 영화 상영 시작 시간을 이용해 할인 여부를 결정. (요일,시작 시간, 종료 시간)
    - 영화별로 여러 개의 할인 조건을 설정할 수 있다.
- ### 할인 정책 discount policy.
    - 금액 할인 정책과 비율 할인 정책이 있다.
    - 금액 할인 정책은 일정 금액을 할인해주는 방식.
    - 비율 할인 정책은 일정 비율의 요금을 할인해 주는 방식.
    - 영화별로 하나의 할인 정책만 설정할 수 있다. (지정하지 않을 수도 있다)

---------------------------------------------------------------------------------

> ## 객체지향 프로그래밍을 향해

### 진정한 객체지향 패더라임으로의 전환.
1. 어떤 클래스가 필요한지를 고민하기 전에 어떤 객체들이 필요한지 고민하라.
    - 클래스는 공통적인 상태와 행동을 공유하는 객체들을 추상화한 것이다.
    - 객체를 중심에 두는 접근 방법은 설계를 단순하고 깔끔하게 만든다.
2. 객체를 독립적인 존재가 아니라 기능을 구현하기 위해 협력하는 공동체의 일원으로 봐야 한다.
    - 객체는 다른 객체에게 도움을 주거나 의존하면서 살아가는 협력적인 존재다.
    - 객체를 협력하는 공동체의 일원으로 바라보는 것은 설계를 유연하고 확장 가능하게 만든다.
    - 훌륭한 협력이 훌륭한 객체를 낳고 훌륭한 객체가 훌륭한 클래스를 낳는다.

### 도메인의 구조를 따르는 프로그램 구조

- ### 용어 정리.
  - 도메인 : 문제를 해결하기 위해 사용자가 프로그램을 사용하는 분야.

### 자율적인 객체.

- ### 객체의 특징.
  1. 객체는 상태와 행동을 함께 가지는 복합적인 존재이다.
  2. 객체는 스스로 판단하고 행동하는 자율적인 존재이다.
    <br> **@@ 두 가지 특징은 서로 깊이 연관돼 있다. @@**
- ### 캡슐화.
    - 대부분의 객체지향 프로그래밍 언어들은 상태와 행동을 캡슐화하는 것에서 한 걸음 더 나아가 접근 제어 매커니즘을 제공한다.
    - 객체 내부에 대한 접근을 통제하는 이유는 객체를 자율적인 존재로 만들기 위해서다.
    - 객체가 자율적인 존재로 우뚝 서기 위해서는 외부의 간섭을 최소화해야 한다.
    - 외부에서는 객체가 어떤 상태에 놓여 있는지, 어떤 생각을 하고 있는지 알아서는 안 되며, 결정에 직접적으로 
      <br>개입하려고 해서도 안 된다.
- ### 캡슐화와 접근 제어.
    1. 퍼블릭 인터페이스 public interface.
       - 외부에서 접근 가능한 부분.
    2. 구현 implementation.
       - 외부에서는 접근 불가능하고 오직 내부에서만 접근 가능한 부분.
         <br> **@@ 일반적으로 객체의 상태는 숨기고 행동만 외부에 공개해야 한다. @@** 
- ### 인터페이스와 구현의 분리 separation of interface and implementation.
  - 훌륭한 객체는 구현을 몰라도 인터페이스만 알면 쉽게 상호작용할 수 있다.
  - 이를 위해서는 구현을 공용 인터페이스 뒤에 철저하게 숨겨놓아야 하는데, 이를 인터페이스와 구현의 분리라고 부른다.
  - 객체 설계의 핵심은 객체를 외부와 내부로 분리해 설계하는 것이다.
  - 이 원칙이 중요한 이유는 소프트에어는 항상 변경되기 때문이다.
    - 수많은 객체들이 상호작용하며 작동하는 객체지향 공동체에서 객체를 수정했을 때 어떤 객체가 영향을 받을지 
      <br> 판단하는 것은 거의 불가능하다.
    - 미래에 변경이 가능한 부분은 객체의 내부에 감춰놓아야 한다.
    - 송신자와 수신자가 구체적인 구현 부분이 아니라 느슨한 인터페이스에 대해서만 결합되도록 만드는 방법이다.
    - 이 목적을 달성하기 위한 설계 방법을 캡슐화라고 한다.

### 프로그래머의 자유.

- ### 프로그래머의 역할.
    1. 클래스 작성자 class creator.
       - 새로운 데이터 타입을 프로그램에 추가한다.
    2. 클라이언트 프로그래머 client programmer.
       - 클래스 작성자가 추가한 데이터 타입을 사용한다. 
       - 필요한 클래스들을 엮어서 애플리케이션을 빠르고 안정적으로 구축하는 것.
  
- ### 구현 은닉 implementation hiding.
    - 클라이언트 프로그래머가 숨겨 놓은 부분에 접근할 수 없도록 방지함으로써 내부 구현을 마음대로 변경하는 것을 의미한다.
    - 클래스 작성자는 클라이언트 프로그래머에게 필요한 부분만 공개하고 나머지는 숨겨야 한다.
    - 클라이언트 프로그래머는 내부의 구현은 무시한 채 인터페이스만 알고 있어도 클래스를 사용할 수 있다.


















