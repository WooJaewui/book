
# 객체와 자료 구조

-----------------------------------------------------------------------------------------------------------------------------

> ## 자료 추상화

### 변수를 private으로 선언하는 이유
- 남들이 변수에 의존하지 않게 만들기 위해


### getter, setter
- 변수를 private으로 선언하더라도 getter, setter 메서드가 있으면 구현을 외부로 노출하는 셈이다
- 구현을 감추려면 추상화가 필요하다
  - 자료를 세세하게 공개하기보다는 추상적인 개념으로 표현하는 편이 더 좋다

-----------------------------------------------------------------------------------------------------------------------------

> ## 자료/객체 비대칭

### 객체
- 추상화 뒤로 자료를 숨긴 채 자료를 다루는 함수만 공개한다


### 자료 구조
- 자료를 그대로 공개하며 별다른 함수는 제공하지 않는다


### 자료 구조를 사용하는 절차적인 코드
- 기존 자료 구조를 변경하지 않으면서 새 함수를 추가하기 쉽다
- 새로운 자료 구조를 추가하기 어렵다 (모든 함수를 고쳐야 한다)


### 객체 지향 코드
- 기존 함수를 변경하지 않으면서 새 클래스를 추가하기 쉽다
- 새로운 함수를 추가하기 어렵다 (모든 클래스를 고쳐야 한다)


### 정리
- 객체 지향이 만능이 아니다 때로는 절차적인 코드가 가장 적합한 상황도 있다

-----------------------------------------------------------------------------------------------------------------------------

> ## 디미터 법칙

### 용어
- heuristic : 경험적
- wreck : 난파시키다, 난파하다, 엉망으로 파괴하다


### 디미터 법칙 Law of Demeter
- 모듈은 자신이 조작하는 객체의 속사정을 몰라야 한다


### 객체지향 디미터 법칙
- 객체는 조회 함수로 내부 구조를 공개하면 안 된다
- 클래스 C의 메서드 f를 호출해도 되는 것들
  - 클래스 C
  - f가 생성한 객체
  - f 인수로 넘어온 객체
  - C 인스턴스 변수에 저장된 객체


### 기차 충돌 train wreck
    final String outputDir = ctxt.getOptions().getScratchDir().getAbsolutePath();
- 여러 객체가 한 줄로 이어져 있어서 붙인 이름


### 잡종 구조
- 객체와 자료 구조가 반반 섞인 상황
- 새로운 함수, 새로운 자료 구조 모두 추가하기 어렵다 (양쪽의 단점만 모아놓은 구조)


### 구조체 감추기
- 객체라면 뭔가를 하라고 말해라 (속을 드러내라고 말하면 안 된다)

-----------------------------------------------------------------------------------------------------------------------------

> ## 자료 전달 객체

### 자료 전달 객체 DTO Data Transfer Object
- 데이터베이스와 통신하거나 소켓에서 받은 메시지의 구문을 분석할 때 유용하다


### 활성 레코드
- DTO의 특수한 형태
- 공개 변수가 있거나 비공개 변수에 조회/설정 함수가 있는 자료 구조지만, save, find와 같은 탐색 함수도 제공한다
- 활성 레코드는 DB 테이블이나 다른 소스에서 자료를 직접 변환한 결과다


### 결론
- 객체
  - 객체는 동작을 공개하고 자료를 숨긴다
  - 기존 동작을 변경하지 않으면서 새 객체 타입을 추가하기 쉽다
  - 기존 객체에 새 동작을 추가하기 어렵다
- 자료 구조
  - 자료 구조는 별다른 동작 없이 자료를 노출한다
  - 기존 자료 구조에 새 동작을 추가하기는 쉽다
  - 기존 함수에 새 자료 구조를 추가하기는 어렵다
- 상황에 따라 좋은 방식을 사용하자





























