
 리다이렉션과 부하 균형.
 521 ~ 562page.



 # 리다이렉트.

리다이렉트 필요 이유.
신뢰할 수 있는 HTTP 트랜잭션의 수행.
지연 최소화.
네트워크 대역폭 절약.

라우터 ( 공유기 )
컴퓨터 네트워크 간에 데이터 패킷을 전송하는 네트워크 장치다.



 # 일반적인 리다이렉션 방법.

HTTP 리다이렉션.
웹 서버들은 다른 곳에 요청을 보내보라고 리다이렉트 메시지를 클라이언트에게 돌려줄 수 있다.

HTTP 리다이렉션 단점.
웹 서버는 리다이렉트를 결정하려면 많은 처리를 해야 한다.
두 번의 요청/응답 트랜잭션이 필요하기 때문에 로딩 시간이 길어질 수 있다.
리다이렉트 서버가 고장 나면, 사이트도 고장 난다.

DNS 리다이렉션.
DNS 분석자는 도메인 이름을 아이피 주소로 분석해야 한다.
DNS는 하나의 도메인에 여러 아이피 주소가 매핑되는 것을 허용한다.
여러 아이피 주소 중에 다양한 알고리즘을 통해 리다이렉트 된다.

DNS 라운드 로빈.
맨 위에서 아래로 가며 하나씩 사용하는 방식 - 기회를 차례대로 받는 방식이다.

DNS 다양한 알고리즘 종류.
부하 균형 알고리즘 : 웹 서버의 로드를 추적하고 가장 로드가 적은 웹 서버로 리다이렉트.
근접 라우팅 알고리즘 : 사용자와 가장 근처의 웹 서버로 리다이렉트.
결함 마스킹 알고리즘 : 네트워크의 건강 상태를 모니터링하여 리다이렉트.

백본.
여러 소형 네트워크들을 대규모 파이프인로 묶어 다른 네트워크들의 집합과 연결되는 네트워크.

MAC Media Access Control.
스위치나 허브 등은 미디어 접근 컨트롤 MAC 주소를 가진다.
아이피 맥 포워딩 방식을 사용하여 MAC 주소를 가진 기기간에 포워딩을 할 수 있다.

NAT Network Address Translation.
네트워크 주소 변환.

NECP Network Element Control Protocol.
라우터나 스위치 같은 네트워크 구성요소들이 프락시, 캐시 등 서버 구성요소들과 대화할 수 있게 해준다.



 # 프락시 리다이렉션 방법.

명시적 브라우저 설정.
브라우저에서 프락시 서버에 접촉하기 위해 정보를 설정한다.

명시적 브라우저 설정에 단점.
프락시가 다운되었거나 브라우저가 잘못 설정되었다면 접속 문제가 발생한다.
네트워크 아키텍처를 변경했을 때 변경사항을 최종사용자에게 전파하는 것이 어렵다.

프락시 자동 설정.
PAC Proxy Auto-configuration Protocol를 통해 브라우저가 동적으로 프락시를 설정할 수 있도록 한다.
브라우저들이 url별로 접촉해야 할 프락시를 지정한 PAC 파일을 찾도록 한다.

WPAD Web Proxy Auto Discovery Protocol.
웹 브라우저가 근처의 프락시를 찾아내어 사용할 수 있게 해주는 방법.
브라우저마다 프락시 사용에 대한 설정에 차이가 있다.

WPAD를 구현한 HTTP 실행 순서.
WPAD를 이용해 PAC 파일 CURL을 찾는다.
URL에 해당하는 PAC파일을 가져온다.
프락시 서버를 알아내기 위해 그 PAC 파일을 실행한다.
PAC 파일이 반환한 프락시 서버에게 HTTP 요청을 보낸다.



 # 캐시 리다이렉션 방법.

WCCP Web Cache Coordination Protocol.
웹 라우터들이 웹 트래픽을 프락시 캐시로 리다이렉트할 수 있도록 하기 위해 만든 프로토콜.

WCCP 서비스 그룹.
WCCP 메시지를 교환할 수 있는 라우터와 캐시들의 집합으로 구성되어 있다.

GRE Generic Router Encapsulation 캡슐화.
WCCP를 지원하는 라우터들은 HTTP 패킷을 특정 서버의 IP 주소와 함께 캡슐화해서 리다이렉트한다.



 # 인터넷 캐시 프로토콜.

ICP Internet Cashe Protocol.
ICP 질의를 통해 HTTP 요청 메시지의 최종 목적지를 결정할 수 있다.
캐시는 이 프로토콜을 사용해 근처의 캐시 모두에게 특정 URL을 갖고 있는지 한번에 물어본다.
URL을 갖고 있는 이웃 캐시에 대한 HTTP 커넥션을 열 수 있다.

OP 코드.
ICP 메시지의 의미를 서술하는 8비트 값이다.



 # 캐시 배열 라우팅 프로토콜.

CARP Cashe Array Routing Protocol.
과도한 트래픽으로 인한 프록시 서버가 불안한 경우 여러 프록시 서버를 하나의 캐시처럼 사용하는 표준.

폴링 polling.
하나의 장치가 다른 장치의 상태를 주기적으로 검사하여 조건을 만족할 때 자료처리를 하는 방식.



 # 하이퍼텍스트 캐싱 프로토콜.

HTCP Hyper Text Caching Protocol.
URL과 모든 요청 및 응답 헤더를 사용하여 질의를 하여 문서의 존재 여부를 찾는다.

캐싱 정책 설정.
상세한 캐싱 내용을 설정하여 캐시 질의에서 거짓 적중의 비율을 줄일 수 있다.









