
 클라이언트 식별과 쿠키.
 297 ~ 320page.



 # HTTP 헤더.

헤더.
From ( 요청 ) : 사용자의 이메일 주소.
User-Agent ( 요청 ) : 사용자의 브라우저.
Referer ( 요청 ) : 사용자가 현재 링크를 타고 온 근원 페이지.
Authorization ( 요청 ) : 사용자 이름과 비밀번호.
Client-ip ( 요청 ) : 클라이언트의 IP 주소.
X-Forwarded-For ( 요청 ) : 클라이언트의 IP 주소.
Cookie ( 요청 ) : 서버가 생성한 ID 라벨.



 # 클라이언트 IP 주소.

예전 사용자 식별.
초기 웹 선구자들은 사용자 식별에 클라이언트의 IP 주소를 사용하려 했다.

클라이언트 IP 식별의 단점.
클라이언트 IP 주소는 사용자가 아닌 컴퓨터를 가리키기 때문에 사용자를 식별하지 않는다.
IP 주소가 동적으로 할당된다.
보안을 강화하기 위해 NAT Network Address Translation 방화벽을 많이 사용한다.



 # 쿠키.

쿠키.
사용자를 식별하고 세션을 유지하는 방식 중 가장 널리 사용하는 방식.

쿠키의 타입.
세션 쿠키 session cookie : 사용자가 사이트를 탐색할 때 설정과 선호 사항들을 저장하는 임시 쿠키.
지속 쿠키 persistent cookie : 디스크에 저장되어 브라우저를 닫아도 저장되는 쿠키.
차이점은 세션쿠키는 브라우저를 닫으면 삭제되고, 지속 쿠키는 일정기간동안 저장된다.

쿠키의 동작원리.
클라이언트가 사이트에 처음 방문하면 서버는 클라이언트에게 데이터를 저장한 쿠키를 할당한다.
클라이언트가 다시 사이트에 방문하면 서버는 클라이언트에 쿠키 데이터를 확인한다.

HTTP 상태 관리 체계 HTTP State Management Mechanism.
브라우저에서 쿠키 정보를 저장할 책임을 의미한다.

사이트마다 각기 다른 쿠키들.
브라우저는 보통 각 사이트에 두 개 혹은 세 개의 쿠키만 보낸다.
보통 브라우저는 쿠키를 생성한 서버에게만 쿠키에 담긴 정보를 전달한다.

쿠키 Domain 속성.
서버는 쿠키를 생성할 때 응답 헤더에 Domain 속성을 기술해서 쿠키를 읽을 서버를 지정할 수 있다.

쿠키 Path 속성.
Path를 통해 웹 사이트 일부에만 쿠키를 적용할 수 있다.

쿠키 구성요소.
이름=값 : 이름=값을 통해 데이터를 저장한다.
Expires : 쿠키의 생명주기를 기록하는 속성.
Domain : 작성한 도메인을 사용하는 서버에서만 쿠키를 사용한다.
Path : 특정 경로에서만 쿠키를 사용한다.
Secure : SSL 보안 연결을 사용할 떄만 쿠키를 전송한다.

쿠키와 캐싱.
캐시되지 말아야 할 문서가 있다면 표시하라.
Set-Cookie 헤더를 캐시 하는 것에 유의하라.
Cookie 헤더를 가지고 있는 요청을 주의하라.





